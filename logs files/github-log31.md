Annotations
1 error
Test Backend Agent
Process completed with exit code 1.
Test Backend Agent
failed 1 minute ago in 50s

1s
4s
2s
16s
24s
Run cd "backend agent"
       Fresh unicode-ident v1.0.18
       Fresh proc-macro2 v1.0.101
       Fresh quote v1.0.40
       Fresh syn v2.0.106
       Fresh libc v0.2.175
       Fresh cfg-if v1.0.3
       Fresh autocfg v1.5.0
       Fresh jobserver v0.1.34
       Fresh shlex v1.3.0
       Fresh find-msvc-tools v0.1.0
       Fresh pin-project-lite v0.2.16
       Fresh cc v1.2.35
       Fresh once_cell v1.21.3
       Fresh serde_derive v1.0.219
       Fresh memchr v2.7.5
       Fresh serde v1.0.219
       Fresh version_check v0.9.5
       Fresh smallvec v1.15.1
       Fresh bytes v1.10.1
       Fresh futures-core v0.3.31
       Fresh getrandom v0.2.16
       Fresh zerocopy v0.8.26
       Fresh scopeguard v1.2.0
       Fresh parking_lot_core v0.9.11
       Fresh lock_api v0.4.13
       Fresh synstructure v0.13.2
       Fresh socket2 v0.6.0
       Fresh zerofrom-derive v0.1.6
       Fresh parking_lot v0.12.4
       Fresh zerofrom v0.1.6
       Fresh yoke-derive v0.8.0
       Fresh stable_deref_trait v1.2.0
       Fresh yoke v0.8.0
       Fresh itoa v1.0.15
       Fresh zerovec-derive v0.11.1
       Fresh displaydoc v0.2.5
       Fresh zerovec v0.11.4
       Fresh signal-hook-registry v1.4.6
       Fresh tokio-macros v2.5.0
       Fresh tracing-attributes v0.1.30
       Fresh futures-io v0.3.31
       Fresh futures-task v0.3.31
       Fresh pin-utils v0.1.0
       Fresh slab v0.4.11
       Fresh typenum v1.18.0
       Fresh tinystr v0.8.1
       Fresh litemap v0.8.0
       Fresh writeable v0.6.1
       Fresh generic-array v0.14.7
       Fresh icu_locale_core v2.0.0
       Fresh potential_utf v0.1.3
       Fresh zerotrie v0.2.2
       Fresh icu_provider v2.0.0
       Fresh icu_collections v2.0.0
       Fresh fnv v1.0.7
       Fresh percent-encoding v2.3.2
       Fresh untrusted v0.9.0
       Fresh icu_properties_data v2.0.1
       Fresh icu_normalizer_data v2.0.0
       Fresh crypto-common v0.1.6
       Fresh block-buffer v0.10.4
       Fresh pkg-config v0.3.32
       Fresh subtle v2.6.1
       Fresh equivalent v1.0.2
       Fresh hashbrown v0.15.5
       Fresh indexmap v2.11.0
       Fresh digest v0.10.7
       Fresh icu_normalizer v2.0.0
       Fresh icu_properties v2.0.1
       Fresh ppv-lite86 v0.2.21
       Fresh futures-macro v0.3.31
       Fresh idna_adapter v1.2.1
       Fresh ryu v1.0.20
       Fresh utf8_iter v1.0.4
       Fresh allocator-api2 v0.2.21
       Fresh cpufeatures v0.2.17
       Fresh serde_json v1.0.143
       Fresh http v0.2.12
       Fresh rand_core v0.6.4
       Fresh rand_chacha v0.3.1
       Fresh tokio-util v0.7.16
       Fresh tracing-core v0.1.34
       Fresh log v0.4.28
       Fresh base64 v0.21.7
       Fresh tracing v0.1.41
       Fresh httparse v1.10.1
       Fresh syn v1.0.109
       Fresh thiserror-impl v1.0.69
       Fresh minimal-lexical v0.2.1
       Fresh vcpkg v0.2.15
       Fresh nom v7.1.3
       Fresh thiserror v1.0.69
       Fresh getrandom v0.3.3
       Fresh thiserror-impl v2.0.16
       Fresh webpki-roots v0.25.4
       Fresh iana-time-zone v0.1.63
       Fresh thiserror v2.0.16
       Fresh crossbeam-utils v0.8.21
       Fresh ring v0.17.14
       Fresh rustls-pemfile v1.0.4
       Fresh h2 v0.3.27
       Fresh sha2 v0.10.9
       Fresh aho-corasick v1.1.3
       Fresh socket2 v0.5.10
       Fresh unicode_categories v0.1.1
       Fresh hex v0.4.3
       Fresh regex-syntax v0.8.6
       Fresh time-core v0.1.6
       Fresh tinyvec_macros v0.1.1
       Fresh powerfmt v0.2.0
       Fresh crc-catalog v2.4.0
       Fresh httpdate v1.0.3
       Fresh num-conv v0.1.0
       Fresh time-macros v0.2.24
       Fresh deranged v0.5.3
       Fresh crc v3.3.0
       Fresh tinyvec v1.10.0
       Fresh regex-automata v0.4.10
       Fresh sqlformat v0.2.6
       Fresh crossbeam-queue v0.3.12
       Fresh num-traits v0.2.19
       Fresh paste v1.0.15
       Fresh crunchy v0.2.4
       Fresh ahash v0.8.12
       Fresh hmac v0.12.1
       Fresh futures-intrusive v0.5.0
       Fresh bytestring v1.4.0
       Fresh either v1.15.0
       Fresh encoding_rs v0.8.35
       Fresh mio v1.0.4
       Fresh event-listener v2.5.3
       Fresh local-waker v0.1.4
       Fresh alloc-no-stdlib v2.0.4
       Fresh futures-sink v0.3.31
       Fresh ident_case v1.0.1
       Fresh strsim v0.10.0
       Fresh darling_core v0.13.4
       Fresh alloc-stdlib v0.2.2
       Fresh tokio v1.47.1
       Fresh hashbrown v0.14.5
       Fresh tiny-keccak v2.0.2
       Fresh unicode-normalization v0.1.24
       Fresh time v0.3.43
       Fresh rustls-webpki v0.101.7
       Fresh sct v0.7.1
       Fresh zstd-sys v2.0.15+zstd.1.5.7
       Fresh sha1 v0.10.6
       Fresh idna v1.1.0
       Fresh rand_core v0.9.3
       Fresh form_urlencoded v1.2.2
       Fresh actix-macros v0.2.4
       Fresh foreign-types-shared v0.1.1
       Fresh unicode-xid v0.2.6
       Fresh ucd-trie v0.1.7
       Fresh unicode-bidi v0.3.18
       Fresh unicode-segmentation v1.12.0
       Fresh regex-lite v0.1.7
       Fresh base64 v0.22.1
       Fresh bitflags v2.9.4
       Fresh unicode-properties v0.1.3
       Fresh adler2 v2.0.1
       Fresh stringprep v0.1.5
       Fresh miniz_oxide v0.8.9
       Fresh derive_more-impl v2.0.1
       Fresh pest v2.8.1
       Fresh actix-rt v2.11.0
       Fresh foreign-types v0.3.2
       Fresh url v2.5.7
       Fresh rand_chacha v0.9.0
       Fresh zstd-safe v7.2.4
       Fresh rustls v0.21.12
       Fresh const-random-macro v0.1.16
       Fresh crc32fast v1.5.0
       Fresh darling_macro v0.13.4
       Fresh brotli-decompressor v5.0.0
       Fresh futures-channel v0.3.31
       Fresh futures-util v0.3.31
       Fresh actix-utils v3.0.1
       Fresh hkdf v0.12.4
       Fresh openssl-sys v0.9.109
       Fresh hashlink v0.8.4
       Fresh md-5 v0.10.6
       Fresh actix-service v2.0.3
       Fresh openssl-macros v0.1.1
       Fresh anstyle v1.0.11
       Fresh home v0.5.11
       Fresh try-lock v0.2.5
       Fresh mime v0.3.17
       Fresh dotenvy v0.15.7
       Fresh whoami v1.6.1
       Fresh linux-raw-sys v0.9.4
       Fresh byteorder v1.5.0
       Fresh rustix v1.0.8
       Fresh want v0.3.1
       Fresh openssl v0.10.73
       Fresh brotli v8.0.2
       Fresh darling v0.13.4
       Fresh flate2 v1.1.2
       Fresh const-random v0.1.18
       Fresh zstd v0.13.3
       Fresh rand v0.9.2
       Fresh pest_meta v2.8.1
       Fresh derive_more v2.0.1
       Fresh local-channel v0.1.5
       Fresh regex v1.11.2
       Fresh actix-codec v0.5.2
       Fresh serde_urlencoded v0.7.1
       Fresh rand v0.8.5
       Fresh http-body v0.4.6
       Fresh tokio-stream v0.1.17
       Fresh openssl-probe v0.1.6
       Fresh utf8parse v0.2.2
       Fresh foldhash v0.1.5
       Fresh language-tags v0.3.2
       Fresh tower-service v0.3.3
       Fresh fastrand v2.3.0
       Fresh hyper v0.14.32
       Fresh tempfile v3.21.0
       Fresh actix-http v3.11.1
       Fresh native-tls v0.2.14
       Fresh anstyle-parse v0.2.7
       Fresh actix-router v0.5.3
       Fresh actix-web-codegen v4.3.0
       Fresh pest_generator v2.8.1
       Fresh dlv-list v0.5.2
       Fresh serde_with_macros v1.5.2
       Fresh cookie v0.16.2
       Fresh actix-server v2.6.0
       Fresh heck v0.4.1
       Fresh tokio-rustls v0.24.1
       Fresh chrono v0.4.41
       Fresh num-integer v0.1.46
       Fresh atoi v2.0.0
       Fresh futures-executor v0.3.31
       Fresh uuid v1.18.1
       Fresh serde_spanned v0.6.9
       Fresh toml_datetime v0.6.11
       Fresh pin-project-internal v1.1.10
       Fresh toml_write v0.1.2
       Fresh winnow v0.7.13
       Fresh impl-more v0.1.9
       Fresh lazy_static v1.5.0
       Fresh is_terminal_polyfill v1.70.1
       Fresh anstyle-query v1.1.4
       Fresh predicates-core v1.0.9
       Fresh colorchoice v1.0.4
       Fresh anstream v0.6.20
       Fresh toml_edit v0.22.27
       Fresh actix-web v4.11.0
       Fresh pin-project v1.1.10
       Fresh sqlx-core v0.7.4
       Fresh futures v0.3.31
       Fresh num-bigint v0.4.6
       Fresh sqlx-macros-core v0.7.4
       Fresh serde_with v1.14.0
       Fresh ordered-multimap v0.7.3
       Fresh pest_derive v2.8.1
       Fresh tokio-native-tls v0.3.1
       Fresh async-trait v0.1.89
       Fresh async-stream-impl v0.3.6
       Fresh clap_lex v0.7.5
       Fresh heck v0.5.0
       Fresh utf-8 v0.7.6
       Fresh termtree v0.5.1
       Fresh arraydeque v0.5.1
       Fresh strsim v0.11.1
       Fresh data-encoding v2.9.0
       Fresh clap_builder v4.5.47
       Fresh tungstenite v0.20.1
       Fresh yaml-rust2 v0.8.1
       Fresh predicates-tree v1.0.12
       Fresh clap_derive v4.5.47
       Fresh async-stream v0.3.6
       Fresh hyper-tls v0.5.0
       Fresh rust-ini v0.20.0
       Fresh json5 v0.4.1
       Fresh sqlx-macros v0.7.4
       Fresh bollard-stubs v1.42.0-rc.3
       Fresh simple_asn1 v0.6.3
       Fresh sqlx-postgres v0.7.4
       Fresh tokio-retry v0.3.0
       Fresh toml v0.8.23
       Fresh crc16 v0.4.0
       Fresh predicates v3.1.3
       Fresh sharded-slab v0.1.7
       Fresh hyper-rustls v0.24.2
       Fresh pem v3.0.5
       Fresh convert_case v0.6.0
       Fresh matchers v0.2.0
       Fresh ron v0.8.1
       Fresh combine v4.6.7
       Fresh tracing-log v0.2.0
       Fresh tracing-serde v0.2.0
       Fresh thread_local v1.1.9
       Fresh mockall_derive v0.12.1
       Fresh socket2 v0.4.10
       Fresh sha1_smol v1.0.1
       Fresh pathdiff v0.2.3
       Fresh ipnet v2.11.0
       Fresh arc-swap v1.7.1
       Fresh nu-ansi-term v0.50.1
       Fresh downcast v0.11.0
       Fresh fragile v2.0.1
       Fresh sync_wrapper v0.1.2
       Fresh mockall v0.12.1
       Fresh reqwest v0.11.27
       Fresh redis v0.24.0
       Fresh tracing-subscriber v0.3.20
       Fresh config v0.14.1
       Fresh jsonwebtoken v9.3.1
       Fresh sqlx v0.7.4
       Fresh testcontainers v0.15.0
       Fresh anyhow v1.0.99
       Fresh tokio-test v0.4.4
       Fresh clap v4.5.47
       Fresh tokio-tungstenite v0.20.1
       Fresh actix-cors v0.7.1
       Fresh actix-web-httpauth v0.8.2
       Fresh dashmap v5.5.3
       Fresh num_cpus v1.17.0
       Dirty viworks-backend-agent v0.1.0 (/home/runner/work/viworksolution/viworksolution/backend agent): the file `src/agent/connection.rs` has changed (1757095509.396949796s, 2h 44m 19s after last build at 1757085650.154394329s)
   Compiling viworks-backend-agent v0.1.0 (/home/runner/work/viworksolution/viworksolution/backend agent)
     Running `/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/bin/rustc --crate-name viworks_backend_agent --edition=2021 src/main.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --emit=dep-info,link -C embed-bitcode=no -C debuginfo=2 --test --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values())' -C metadata=6fa653e0e6096d47 -C extra-filename=-76c07ce4fbd6ccad --out-dir '/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps' -L 'dependency=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps' --extern 'actix_cors=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libactix_cors-60a3c1c1f9a2a96f.rlib' --extern 'actix_rt=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libactix_rt-318e0dfdacacfb81.rlib' --extern 'actix_web=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libactix_web-ccfd4903698db251.rlib' --extern 'actix_web_httpauth=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libactix_web_httpauth-daa461dbea5139e1.rlib' --extern 'anyhow=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libanyhow-3f246785ad7dfde2.rlib' --extern 'async_trait=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libasync_trait-69988d9f5d88e489.so' --extern 'base64=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libbase64-9aa53967577f990a.rlib' --extern 'chrono=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libchrono-6e04e3f793341704.rlib' --extern 'clap=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libclap-b7a9c838bd32e948.rlib' --extern 'config=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libconfig-b0ab0229476304bd.rlib' --extern 'dashmap=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libdashmap-b67e37c374dfdd3a.rlib' --extern 'futures_util=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libfutures_util-3dc2f14c48f60a0b.rlib' --extern 'jsonwebtoken=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libjsonwebtoken-08d6a29a44bdf784.rlib' --extern 'mockall=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libmockall-bc40d38d14d0a010.rlib' --extern 'num_cpus=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libnum_cpus-7029c5246251e1ca.rlib' --extern 'redis=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libredis-85d21acfb53dcaa0.rlib' --extern 'reqwest=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libreqwest-428240fc7e81e76a.rlib' --extern 'ring=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libring-425887da17da84b5.rlib' --extern 'serde=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libserde-ee257f6e92061072.rlib' --extern 'serde_json=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libserde_json-02b81369b0fe77cc.rlib' --extern 'sha2=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libsha2-96bb199df0a397c6.rlib' --extern 'sqlx=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libsqlx-28dfaeb7fca5d215.rlib' --extern 'testcontainers=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libtestcontainers-fbb478a87ffb20c8.rlib' --extern 'thiserror=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libthiserror-28b3f4f03bffec38.rlib' --extern 'time=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libtime-7769be2a90998ad5.rlib' --extern 'tokio=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libtokio-34b08a24e0e45306.rlib' --extern 'tokio_test=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libtokio_test-bf79e4354ada5d1b.rlib' --extern 'tokio_tungstenite=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libtokio_tungstenite-3674d48a2789e0c5.rlib' --extern 'toml=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libtoml-e6ce4f8d4d75c3c0.rlib' --extern 'tracing=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libtracing-a1d2c5b59b87da50.rlib' --extern 'tracing_subscriber=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libtracing_subscriber-041eb030abf7a6ed.rlib' --extern 'url=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/liburl-4b06b872da0a6703.rlib' --extern 'uuid=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/libuuid-b0ca7ee3b87770b9.rlib' -L 'native=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/build/zstd-sys-168035e151d0c6b0/out' -L 'native=/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/build/ring-8cf62460f8e3afd9/out'`
warning: unused import: `HttpResponse`
 --> src/main.rs:2:47
  |
2 | use actix_web::{middleware::Logger, web, App, HttpResponse, HttpServer};
  |                                               ^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `crate::command::CommandEngine`
 --> src/agent/manager.rs:3:5
  |
3 | use crate::command::CommandEngine;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::telemetry::TelemetryProcessor`
 --> src/agent/manager.rs:8:5
  |
8 | use crate::telemetry::TelemetryProcessor;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `App`, `HttpServer`, `middleware::Logger`, and `web`
 --> src/agent/manager.rs:9:17
  |
9 | use actix_web::{middleware::Logger, web, App, HttpServer};
  |                 ^^^^^^^^^^^^^^^^^^  ^^^  ^^^  ^^^^^^^^^^

warning: unused import: `std::net::SocketAddr`
  --> src/agent/manager.rs:11:5
   |
11 | use std::net::SocketAddr;
   |     ^^^^^^^^^^^^^^^^^^^^

warning: unused import: `tokio_tungstenite::tungstenite::handshake::server::Callback`
  --> src/agent/manager.rs:16:5
   |
16 | use tokio_tungstenite::tungstenite::handshake::server::Callback;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `WebSocketStream`
  --> src/agent/manager.rs:17:39
   |
17 | use tokio_tungstenite::{accept_async, WebSocketStream};
   |                                       ^^^^^^^^^^^^^^^

warning: unused import: `tokio::sync::RwLock`
 --> src/agent/registry.rs:5:5
  |
5 | use tokio::sync::RwLock;
  |     ^^^^^^^^^^^^^^^^^^^

warning: unused import: `error`
 --> src/agent/registry.rs:6:22
  |
6 | use tracing::{debug, error, info, warn};
  |                      ^^^^^

warning: unused import: `uuid::Uuid`
 --> src/agent/registry.rs:7:5
  |
7 | use uuid::Uuid;
  |     ^^^^^^^^^^

warning: unused import: `info`
 --> src/api/auth.rs:9:29
  |
9 | use tracing::{debug, error, info, warn};
  |                             ^^^^

warning: unused import: `warn`
  --> src/api/handlers.rs:11:35
   |
11 | use tracing::{debug, error, info, warn};
   |                                   ^^^^

warning: unused import: `auth::*`
 --> src/api/mod.rs:5:9
  |
5 | pub use auth::*;
  |         ^^^^^^^

warning: unused import: `handlers::*`
 --> src/api/mod.rs:6:9
  |
6 | pub use handlers::*;
  |         ^^^^^^^^^^^

warning: unused import: `routes::configure_routes`
 --> src/api/mod.rs:7:9
  |
7 | pub use routes::configure_routes;
  |         ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `CommandPriority` and `CommandStatus`
 --> src/command/executor.rs:1:27
  |
1 | use crate::data::models::{CommandPriority, CommandRecord, CommandResult, CommandStatus};
  |                           ^^^^^^^^^^^^^^^                                ^^^^^^^^^^^^^

warning: unused import: `serde_json::Value`
 --> src/command/executor.rs:3:5
  |
3 | use serde_json::Value;
  |     ^^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
 --> src/command/executor.rs:4:5
  |
4 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `debug` and `error`
 --> src/command/executor.rs:5:15
  |
5 | use tracing::{debug, error, info, warn};
  |               ^^^^^  ^^^^^

warning: unused import: `error`
 --> src/command/queue.rs:7:22
  |
7 | use tracing::{debug, error, info, warn};
  |                      ^^^^^

warning: unused import: `uuid::Uuid`
 --> src/command/queue.rs:8:5
  |
8 | use uuid::Uuid;
  |     ^^^^^^^^^^

warning: unused import: `models::*`
 --> src/data/mod.rs:5:9
  |
5 | pub use models::*;
  |         ^^^^^^^^^

warning: unused import: `std::fmt`
 --> src/error.rs:3:5
  |
3 | use std::fmt;
  |     ^^^^^^^^

warning: unused import: `std::collections::HashMap`
 --> src/telemetry/analytics.rs:4:5
  |
4 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::sync::Arc`
 --> src/telemetry/analytics.rs:5:5
  |
5 | use std::sync::Arc;
  |     ^^^^^^^^^^^^^^

warning: unused import: `error`
 --> src/telemetry/analytics.rs:6:22
  |
6 | use tracing::{debug, error, info, warn};
  |                      ^^^^^

warning: unused import: `AgentInfo`
 --> src/telemetry/processor.rs:2:27
  |
2 | use crate::data::models::{AgentInfo, NetworkStats, TelemetryMessage, TelemetryRecord};
  |                           ^^^^^^^^^

warning: unused imports: `debug` and `warn`
 --> src/telemetry/processor.rs:9:15
  |
9 | use tracing::{debug, error, info, warn};
  |               ^^^^^               ^^^^

warning: unused import: `std::sync::Arc`
 --> src/telemetry/storage.rs:4:5
  |
4 | use std::sync::Arc;
  |     ^^^^^^^^^^^^^^

warning: unused variable: `registry`
   --> src/agent/manager.rs:148:9
    |
148 |         registry: Arc<AgentRegistry>,
    |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_registry`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `config`
   --> src/agent/manager.rs:152:9
    |
152 |         config: Config,
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_config`

warning: variable does not need to be mutable
   --> src/agent/manager.rs:163:13
    |
163 |         let mut connection = AgentConnection::new(ws_stream);
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: unused variable: `agent_info`
   --> src/agent/manager.rs:193:13
    |
193 |         let agent_info =
    |             ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_agent_info`

warning: unused variable: `config`
   --> src/agent/manager.rs:439:17
    |
439 |             let config = config.clone();
    |                 ^^^^^^ help: if this is intentional, prefix it with an underscore: `_config`

warning: variable does not need to be mutable
   --> src/api/auth.rs:103:17
    |
103 |             let mut req = req;
    |                 ----^^^
    |                 |
    |                 help: remove this `mut`

warning: unused variable: `ws_message`
   --> src/command/engine.rs:136:13
    |
136 |         let ws_message = WebSocketMessage {
    |             ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_ws_message`

warning: unused variable: `config`
   --> src/command/engine.rs:404:13
    |
404 |         let config = self.config.clone();
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_config`

warning: unused variable: `command`
   --> src/command/engine.rs:435:21
    |
435 |         if let Some(command) = self.active_commands.remove(correlation_id) {
    |                     ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_command`

warning: unused variable: `disk_usage`
   --> src/telemetry/analytics.rs:176:21
    |
176 |                 let disk_usage = telemetry
    |                     ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_disk_usage`

warning: methods `handle_binary_message`, `send_message`, `is_authenticated`, `get_last_heartbeat`, and `close` are never used
   --> src/agent/connection.rs:186:14
    |
29  | / impl<S> AgentConnection<S>
30  | | where
31  | |     S: tokio::io::AsyncRead + tokio::io::AsyncWrite + Unpin + std::marker::Send,
    | |________________________________________________________________________________- methods in this implementation
...
186 |       async fn handle_binary_message(&mut self, data: &[u8]) -> BackendAgentResult<()> {
    |                ^^^^^^^^^^^^^^^^^^^^^
...
353 |       pub async fn send_message(&self, message: WebSocketMessage) -> BackendAgentResult<()> {
    |                    ^^^^^^^^^^^^
...
370 |       pub async fn is_authenticated(&self) -> bool {
    |                    ^^^^^^^^^^^^^^^^
...
375 |       pub async fn get_last_heartbeat(&self) -> chrono::DateTime<chrono::Utc> {
    |                    ^^^^^^^^^^^^^^^^^^
...
387 |       pub async fn close(&mut self) -> BackendAgentResult<()> {
    |                    ^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: multiple methods are never used
   --> src/agent/manager.rs:84:18
    |
29  | impl AgentManager {
    | ----------------- methods in this implementation
...
84  |     pub async fn stop(&mut self) -> BackendAgentResult<()> {
    |                  ^^^^
...
187 |     pub async fn send_command_to_agent(
    |                  ^^^^^^^^^^^^^^^^^^^^^
...
244 |     pub async fn send_command_to_agents(
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
279 |     pub async fn send_command_to_all_agents(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
290 |     pub async fn send_command_to_site(
    |                  ^^^^^^^^^^^^^^^^^^^^
...
302 |     pub async fn send_command_to_capability(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
324 |     pub async fn get_agents_by_status(&self, status: &AgentStatus) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^
...
334 |     pub async fn get_agents_with_capability(&self, capability: &str) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
353 |     pub async fn is_agent_online(&self, agent_id: &str) -> bool {
    |                  ^^^^^^^^^^^^^^^
...
358 |     pub async fn total_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^
...
363 |     pub async fn online_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^^
...
368 |     pub async fn offline_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^^^
...
373 |     pub async fn close_connection(&self, connection_id: &str) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^
...
388 |     async fn close_all_connections(&self) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^^^^^^

warning: multiple methods are never used
   --> src/agent/registry.rs:26:18
    |
16  | impl AgentRegistry {
    | ------------------ methods in this implementation
...
26  |     pub async fn register_agent(
    |                  ^^^^^^^^^^^^^^
...
52  |     pub async fn unregister_agent(
    |                  ^^^^^^^^^^^^^^^^
...
86  |     pub async fn get_agent_by_connection(&self, connection_id: &str) -> Option<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^
...
111 |     pub async fn get_agents_by_status(&self, status: &AgentStatus) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^
...
137 |     pub async fn update_agent_last_seen(&self, agent_id: &str) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
150 |     pub async fn is_agent_online(&self, agent_id: &str) -> bool {
    |                  ^^^^^^^^^^^^^^^
...
159 |     pub async fn get_connection_id(&self, agent_id: &str) -> Option<String> {
    |                  ^^^^^^^^^^^^^^^^^
...
166 |     pub async fn total_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^
...
171 |     pub async fn online_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^^
...
179 |     pub async fn offline_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^^^
...
187 |     pub async fn get_agents_with_capability(&self, capability: &str) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
196 |     pub async fn get_agents_by_os(&self, os: &str) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^
...
205 |     pub async fn get_agents_by_container_engine(&self, engine: &str) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: associated function `new` is never used
  --> src/api/auth.rs:20:12
   |
19 | impl Claims {
   | ----------- associated function in this implementation
20 |     pub fn new(user_id: String, role: String, expires_in: Duration) -> Self {
   |            ^^^

warning: field `encoding_key` is never read
  --> src/api/auth.rs:36:5
   |
35 | pub struct AuthService {
   |            ----------- field in this struct
36 |     encoding_key: EncodingKey,
   |     ^^^^^^^^^^^^

warning: methods `generate_token` and `check_role` are never used
  --> src/api/auth.rs:56:12
   |
41 | impl AuthService {
   | ---------------- methods in this implementation
...
56 |     pub fn generate_token(&self, claims: Claims) -> BackendAgentResult<String> {
   |            ^^^^^^^^^^^^^^
...
74 |     pub fn check_role(&self, claims: &Claims, required_role: &str) -> bool {
   |            ^^^^^^^^^^

warning: field `timeout` is never read
  --> src/api/handlers.rs:20:9
   |
16 | pub struct CreateCommandRequest {
   |            -------------------- field in this struct
...
20 |     pub timeout: Option<u64>,
   |         ^^^^^^^
   |
   = note: `CreateCommandRequest` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `agent_id`, `verb`, and `limit` are never read
   --> src/api/handlers.rs:470:9
    |
468 | pub struct CommandListQuery {
    |            ---------------- fields in this struct
469 |     pub status: Option<String>,
470 |     pub agent_id: Option<String>,
    |         ^^^^^^^^
471 |     pub verb: Option<String>,
    |         ^^^^
472 |     pub limit: Option<usize>,
    |         ^^^^^
    |
    = note: `CommandListQuery` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `hours` is never read
   --> src/api/handlers.rs:478:9
    |
476 | pub struct TelemetryHistoryQuery {
    |            --------------------- field in this struct
477 |     pub limit: Option<usize>,
478 |     pub hours: Option<u32>,
    |         ^^^^^
    |
    = note: `TelemetryHistoryQuery` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `agent_manager` and `is_running` are never read
  --> src/command/engine.rs:20:5
   |
17 | pub struct CommandEngine {
   |            ------------- fields in this struct
...
20 |     agent_manager: Arc<AgentManager>,
   |     ^^^^^^^^^^^^^
...
25 |     is_running: Arc<RwLock<bool>>,
   |     ^^^^^^^^^^

warning: multiple methods are never used
   --> src/command/engine.rs:60:18
    |
28  | impl CommandEngine {
    | ------------------ methods in this implementation
...
60  |     pub async fn start(&self) -> BackendAgentResult<()> {
    |                  ^^^^^
...
73  |     pub async fn stop(&self) -> BackendAgentResult<()> {
    |                  ^^^^
...
108 |     pub async fn execute_command(
    |                  ^^^^^^^^^^^^^^^
...
180 |     pub async fn process_command_result(
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
209 |     pub async fn process_command_failure(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^
...
268 |     pub async fn get_commands_for_agent(&self, agent_id: &str) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
273 |     pub async fn get_commands_by_verb(&self, verb: &str) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^
...
308 |     pub async fn run_command_loop(&self) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^
...
375 |     async fn wait_for_active_commands(&self) {
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
...
454 |     pub async fn get_command_history(&self, limit: Option<usize>) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^

warning: method `execute_command` is never used
   --> src/command/executor.rs:456:18
    |
13  | impl CommandExecutor {
    | -------------------- method in this implementation
...
456 |     pub async fn execute_command(
    |                  ^^^^^^^^^^^^^^^

warning: method `with_priority` is never used
  --> src/command/queue.rs:28:12
   |
18 | impl QueuedCommand {
   | ------------------ method in this implementation
...
28 |     pub fn with_priority(mut self, priority: CommandPriority) -> Self {
   |            ^^^^^^^^^^^^^

warning: methods `dequeue`, `mark_completed`, `mark_failed`, `get_commands_by_priority`, `get_commands_for_agent`, and `get_commands_by_verb` are never used
   --> src/command/queue.rs:112:18
    |
69  | impl CommandQueue {
    | ----------------- methods in this implementation
...
112 |     pub async fn dequeue(&self) -> Option<QueuedCommand> {
    |                  ^^^^^^^
...
136 |     pub async fn mark_completed(
    |                  ^^^^^^^^^^^^^^
...
162 |     pub async fn mark_failed(
    |                  ^^^^^^^^^^^
...
340 |     pub async fn get_commands_by_priority(&self, priority: &CommandPriority) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^
...
359 |     pub async fn get_commands_for_agent(&self, agent_id: &str) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
390 |     pub async fn get_commands_by_verb(&self, verb: &str) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^

warning: method `health_check` is never used
  --> src/data/mod.rs:27:18
   |
19 | impl DataLayer {
   | -------------- method in this implementation
...
27 |     pub async fn health_check(&self) -> BackendAgentResult<()> {
   |                  ^^^^^^^^^^^^

warning: field `config` is never read
  --> src/data/postgres.rs:11:9
   |
9  | pub struct PostgresClient {
   |            -------------- field in this struct
10 |     pub pool: sqlx::PgPool,
11 |     pub config: DatabaseConfig,
   |         ^^^^^^
   |
   = note: `PostgresClient` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: multiple methods are never used
   --> src/data/postgres.rs:50:18
    |
14  | impl PostgresClient {
    | ------------------- methods in this implementation
...
50  |     pub async fn health_check(&self) -> Result<(), BackendAgentError> {
    |                  ^^^^^^^^^^^^
...
69  |     pub fn get_pool(&self) -> &PgPool {
    |            ^^^^^^^^
...
238 |     pub async fn upsert_agent(&self, agent: &AgentInfo) -> Result<(), BackendAgentError> {
    |                  ^^^^^^^^^^^^
...
280 |     pub async fn get_agent(&self, agent_id: &str) -> Result<Option<AgentInfo>, BackendAgentError> {
    |                  ^^^^^^^^^
...
319 |     pub async fn list_agents(&self) -> Result<Vec<AgentInfo>, BackendAgentError> {
    |                  ^^^^^^^^^^^
...
354 |     pub async fn update_agent_status(
    |                  ^^^^^^^^^^^^^^^^^^^
...
409 |     pub async fn get_command(
    |                  ^^^^^^^^^^^
...
482 |     pub async fn store_telemetry(
    |                  ^^^^^^^^^^^^^^^
...
574 |     pub async fn log_audit_event(&self, audit_log: &AuditLog) -> Result<(), BackendAgentError> {
    |                  ^^^^^^^^^^^^^^^

warning: fields `client` and `config` are never read
  --> src/data/redis.rs:8:9
   |
7  | pub struct RedisClient {
   |            ----------- fields in this struct
8  |     pub client: Client,
   |         ^^^^^^
9  |     pub manager: ConnectionManager,
10 |     pub config: RedisConfig,
   |         ^^^^^^

warning: multiple methods are never used
   --> src/data/redis.rs:48:18
    |
13  | impl RedisClient {
    | ---------------- methods in this implementation
...
48  |     pub async fn health_check(&self) -> Result<(), BackendAgentError> {
    |                  ^^^^^^^^^^^^
...
68  |     pub fn get_manager(&self) -> &ConnectionManager {
    |            ^^^^^^^^^^^
...
125 |     pub async fn del(&self, key: &str) -> Result<(), BackendAgentError> {
    |                  ^^^
...
140 |     pub async fn exists(&self, key: &str) -> Result<bool, BackendAgentError> {
    |                  ^^^^^^
...
159 |     pub async fn hset(&self, key: &str, field: &str, value: &str) -> Result<(), BackendAgentError> {
    |                  ^^^^
...
176 |     pub async fn hget(&self, key: &str, field: &str) -> Result<Option<String>, BackendAgentError> {
    |                  ^^^^
...
194 |     pub async fn hgetall(&self, key: &str) -> Result<Vec<(String, String)>, BackendAgentError> {
    |                  ^^^^^^^
...
213 |     pub async fn lpush(&self, key: &str, value: &str) -> Result<(), BackendAgentError> {
    |                  ^^^^^
...
229 |     pub async fn rpop(&self, key: &str) -> Result<Option<String>, BackendAgentError> {
    |                  ^^^^
...
248 |     pub async fn sadd(&self, key: &str, member: &str) -> Result<(), BackendAgentError> {
    |                  ^^^^
...
264 |     pub async fn smembers(&self, key: &str) -> Result<Vec<String>, BackendAgentError> {
    |                  ^^^^^^^^
...
283 |     pub async fn expire(&self, key: &str, seconds: u64) -> Result<bool, BackendAgentError> {
    |                  ^^^^^^
...
299 |     pub async fn ttl(&self, key: &str) -> Result<i64, BackendAgentError> {
    |                  ^^^

warning: variants `CommandExecution` and `Connection` are never constructed
  --> src/error.rs:27:5
   |
7  | pub enum BackendAgentError {
   |          ----------------- variants in this enum
...
27 |     CommandExecution(String),
   |     ^^^^^^^^^^^^^^^^
...
36 |     Connection(String),
   |     ^^^^^^^^^^
   |
   = note: `BackendAgentError` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `data_layer` is never read
 --> src/telemetry/analytics.rs:9:5
  |
8 | pub struct TelemetryAnalytics {
  |            ------------------ field in this struct
9 |     data_layer: DataLayer,
  |     ^^^^^^^^^^

warning: multiple methods are never used
   --> src/telemetry/analytics.rs:18:18
    |
12  | impl TelemetryAnalytics {
    | ----------------------- methods in this implementation
...
18  |     pub async fn process_telemetry(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^^
...
38  |     async fn check_cpu_alerts(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^
...
62  |     async fn check_memory_alerts(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^^^^
...
87  |     async fn check_disk_alerts(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^^
...
116 |     async fn check_container_alerts(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^^^^^^^
...
153 |     pub async fn generate_health_report(
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
236 |     pub async fn get_resource_trends(
    |                  ^^^^^^^^^^^^^^^^^^^

warning: struct `HealthReport` is never constructed
   --> src/telemetry/analytics.rs:270:12
    |
270 | pub struct HealthReport {
    |            ^^^^^^^^^^^^

warning: struct `AgentHealthSummary` is never constructed
   --> src/telemetry/analytics.rs:282:12
    |
282 | pub struct AgentHealthSummary {
    |            ^^^^^^^^^^^^^^^^^^

warning: struct `ResourceTrends` is never constructed
   --> src/telemetry/analytics.rs:292:12
    |
292 | pub struct ResourceTrends {
    |            ^^^^^^^^^^^^^^

warning: fields `config`, `data_layer`, `telemetry_queue`, `telemetry_receiver`, and `is_running` are never read
  --> src/telemetry/processor.rs:13:5
   |
12 | pub struct TelemetryProcessor {
   |            ------------------ fields in this struct
13 |     config: Config,
   |     ^^^^^^
14 |     data_layer: DataLayer,
   |     ^^^^^^^^^^
...
17 |     telemetry_queue: Arc<mpsc::UnboundedSender<TelemetryMessage>>,
   |     ^^^^^^^^^^^^^^^
18 |     telemetry_receiver: Arc<RwLock<Option<mpsc::UnboundedReceiver<TelemetryMessage>>>>,
   |     ^^^^^^^^^^^^^^^^^^
19 |     is_running: Arc<RwLock<bool>>,
   |     ^^^^^^^^^^

warning: methods `start`, `stop`, `process_telemetry`, `queue_telemetry`, and `run_processing_loop` are never used
   --> src/telemetry/processor.rs:49:18
    |
22  | impl TelemetryProcessor {
    | ----------------------- methods in this implementation
...
49  |     pub async fn start(&self) -> BackendAgentResult<()> {
    |                  ^^^^^
...
62  |     pub async fn stop(&self) -> BackendAgentResult<()> {
    |                  ^^^^
...
75  |     pub async fn process_telemetry(
    |                  ^^^^^^^^^^^^^^^^^
...
130 |     pub async fn queue_telemetry(&self, telemetry_msg: TelemetryMessage) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^
...
141 |     pub async fn run_processing_loop(&self) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^^^^

warning: methods `store_telemetry`, `get_telemetry_for_agents`, `batch_store_telemetry`, and `get_telemetry_summary` are never used
   --> src/telemetry/storage.rs:17:18
    |
11  | impl TelemetryStorage {
    | --------------------- methods in this implementation
...
17  |     pub async fn store_telemetry(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^
...
133 |     pub async fn get_telemetry_for_agents(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^
...
182 |     pub async fn batch_store_telemetry(
    |                  ^^^^^^^^^^^^^^^^^^^^^
...
206 |     pub async fn get_telemetry_summary(
    |                  ^^^^^^^^^^^^^^^^^^^^^

warning: struct `TelemetrySummary` is never constructed
   --> src/telemetry/storage.rs:259:12
    |
259 | pub struct TelemetrySummary {
    |            ^^^^^^^^^^^^^^^^

warning: `viworks-backend-agent` (bin "viworks-backend-agent" test) generated 68 warnings (run `cargo fix --bin "viworks-backend-agent" --tests` to apply 31 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 13.61s
warning: the following packages contain code that will be rejected by a future version of Rust: redis v0.24.0, sqlx-postgres v0.7.4
note: to see what the problems were, use the option `--future-incompat-report`, or run `cargo report future-incompatibilities --id 1`
     Running `/home/runner/work/viworksolution/viworksolution/backend agent/target/debug/deps/viworks_backend_agent-76c07ce4fbd6ccad`

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

    Checking viworks-backend-agent v0.1.0 (/home/runner/work/viworksolution/viworksolution/backend agent)
warning: unused import: `HttpResponse`
 --> src/main.rs:2:47
  |
2 | use actix_web::{middleware::Logger, web, App, HttpResponse, HttpServer};
  |                                               ^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `crate::command::CommandEngine`
 --> src/agent/manager.rs:3:5
  |
3 | use crate::command::CommandEngine;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::telemetry::TelemetryProcessor`
 --> src/agent/manager.rs:8:5
  |
8 | use crate::telemetry::TelemetryProcessor;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `App`, `HttpServer`, `middleware::Logger`, and `web`
 --> src/agent/manager.rs:9:17
  |
9 | use actix_web::{middleware::Logger, web, App, HttpServer};
  |                 ^^^^^^^^^^^^^^^^^^  ^^^  ^^^  ^^^^^^^^^^

warning: unused import: `std::net::SocketAddr`
  --> src/agent/manager.rs:11:5
   |
11 | use std::net::SocketAddr;
   |     ^^^^^^^^^^^^^^^^^^^^

warning: unused import: `tokio_tungstenite::tungstenite::handshake::server::Callback`
  --> src/agent/manager.rs:16:5
   |
16 | use tokio_tungstenite::tungstenite::handshake::server::Callback;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `WebSocketStream`
  --> src/agent/manager.rs:17:39
   |
17 | use tokio_tungstenite::{accept_async, WebSocketStream};
   |                                       ^^^^^^^^^^^^^^^

warning: unused import: `tokio::sync::RwLock`
 --> src/agent/registry.rs:5:5
  |
5 | use tokio::sync::RwLock;
  |     ^^^^^^^^^^^^^^^^^^^

warning: unused import: `error`
 --> src/agent/registry.rs:6:22
  |
6 | use tracing::{debug, error, info, warn};
  |                      ^^^^^

warning: unused import: `uuid::Uuid`
 --> src/agent/registry.rs:7:5
  |
7 | use uuid::Uuid;
  |     ^^^^^^^^^^

warning: unused import: `info`
 --> src/api/auth.rs:9:29
  |
9 | use tracing::{debug, error, info, warn};
  |                             ^^^^

warning: unused import: `warn`
  --> src/api/handlers.rs:11:35
   |
11 | use tracing::{debug, error, info, warn};
   |                                   ^^^^

warning: unused import: `auth::*`
 --> src/api/mod.rs:5:9
  |
5 | pub use auth::*;
  |         ^^^^^^^

warning: unused import: `handlers::*`
 --> src/api/mod.rs:6:9
  |
6 | pub use handlers::*;
  |         ^^^^^^^^^^^

warning: unused import: `routes::configure_routes`
 --> src/api/mod.rs:7:9
  |
7 | pub use routes::configure_routes;
  |         ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `CommandPriority` and `CommandStatus`
 --> src/command/executor.rs:1:27
  |
1 | use crate::data::models::{CommandPriority, CommandRecord, CommandResult, CommandStatus};
  |                           ^^^^^^^^^^^^^^^                                ^^^^^^^^^^^^^

warning: unused import: `serde_json::Value`
 --> src/command/executor.rs:3:5
  |
3 | use serde_json::Value;
  |     ^^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
 --> src/command/executor.rs:4:5
  |
4 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `debug` and `error`
 --> src/command/executor.rs:5:15
  |
5 | use tracing::{debug, error, info, warn};
  |               ^^^^^  ^^^^^

warning: unused import: `error`
 --> src/command/queue.rs:7:22
  |
7 | use tracing::{debug, error, info, warn};
  |                      ^^^^^

warning: unused import: `uuid::Uuid`
 --> src/command/queue.rs:8:5
  |
8 | use uuid::Uuid;
  |     ^^^^^^^^^^

warning: unused import: `models::*`
 --> src/data/mod.rs:5:9
  |
5 | pub use models::*;
  |         ^^^^^^^^^

warning: unused import: `std::fmt`
 --> src/error.rs:3:5
  |
3 | use std::fmt;
  |     ^^^^^^^^

warning: unused import: `std::collections::HashMap`
 --> src/telemetry/analytics.rs:4:5
  |
4 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::sync::Arc`
 --> src/telemetry/analytics.rs:5:5
  |
5 | use std::sync::Arc;
  |     ^^^^^^^^^^^^^^

warning: unused import: `error`
 --> src/telemetry/analytics.rs:6:22
  |
6 | use tracing::{debug, error, info, warn};
  |                      ^^^^^

warning: unused import: `AgentInfo`
 --> src/telemetry/processor.rs:2:27
  |
2 | use crate::data::models::{AgentInfo, NetworkStats, TelemetryMessage, TelemetryRecord};
  |                           ^^^^^^^^^

warning: unused imports: `debug` and `warn`
 --> src/telemetry/processor.rs:9:15
  |
9 | use tracing::{debug, error, info, warn};
  |               ^^^^^               ^^^^

warning: unused import: `std::sync::Arc`
 --> src/telemetry/storage.rs:4:5
  |
4 | use std::sync::Arc;
  |     ^^^^^^^^^^^^^^

warning: unused variable: `registry`
   --> src/agent/manager.rs:148:9
    |
148 |         registry: Arc<AgentRegistry>,
    |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_registry`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `config`
   --> src/agent/manager.rs:152:9
    |
152 |         config: Config,
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_config`

warning: variable does not need to be mutable
   --> src/agent/manager.rs:163:13
    |
163 |         let mut connection = AgentConnection::new(ws_stream);
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: unused variable: `agent_info`
   --> src/agent/manager.rs:193:13
    |
193 |         let agent_info =
    |             ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_agent_info`

warning: unused variable: `config`
   --> src/agent/manager.rs:439:17
    |
439 |             let config = config.clone();
    |                 ^^^^^^ help: if this is intentional, prefix it with an underscore: `_config`

warning: variable does not need to be mutable
   --> src/api/auth.rs:103:17
    |
103 |             let mut req = req;
    |                 ----^^^
    |                 |
    |                 help: remove this `mut`

warning: unused variable: `ws_message`
   --> src/command/engine.rs:136:13
    |
136 |         let ws_message = WebSocketMessage {
    |             ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_ws_message`

warning: unused variable: `config`
   --> src/command/engine.rs:404:13
    |
404 |         let config = self.config.clone();
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_config`

warning: unused variable: `command`
   --> src/command/engine.rs:435:21
    |
435 |         if let Some(command) = self.active_commands.remove(correlation_id) {
    |                     ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_command`

warning: unused variable: `disk_usage`
   --> src/telemetry/analytics.rs:176:21
    |
176 |                 let disk_usage = telemetry
    |                     ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_disk_usage`

warning: methods `handle_binary_message`, `send_message`, `is_authenticated`, `get_last_heartbeat`, and `close` are never used
   --> src/agent/connection.rs:186:14
    |
29  | / impl<S> AgentConnection<S>
30  | | where
31  | |     S: tokio::io::AsyncRead + tokio::io::AsyncWrite + Unpin + std::marker::Send,
    | |________________________________________________________________________________- methods in this implementation
...
186 |       async fn handle_binary_message(&mut self, data: &[u8]) -> BackendAgentResult<()> {
    |                ^^^^^^^^^^^^^^^^^^^^^
...
353 |       pub async fn send_message(&self, message: WebSocketMessage) -> BackendAgentResult<()> {
    |                    ^^^^^^^^^^^^
...
370 |       pub async fn is_authenticated(&self) -> bool {
    |                    ^^^^^^^^^^^^^^^^
...
375 |       pub async fn get_last_heartbeat(&self) -> chrono::DateTime<chrono::Utc> {
    |                    ^^^^^^^^^^^^^^^^^^
...
387 |       pub async fn close(&mut self) -> BackendAgentResult<()> {
    |                    ^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: multiple methods are never used
   --> src/agent/manager.rs:84:18
    |
29  | impl AgentManager {
    | ----------------- methods in this implementation
...
84  |     pub async fn stop(&mut self) -> BackendAgentResult<()> {
    |                  ^^^^
...
187 |     pub async fn send_command_to_agent(
    |                  ^^^^^^^^^^^^^^^^^^^^^
...
244 |     pub async fn send_command_to_agents(
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
279 |     pub async fn send_command_to_all_agents(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
290 |     pub async fn send_command_to_site(
    |                  ^^^^^^^^^^^^^^^^^^^^
...
302 |     pub async fn send_command_to_capability(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
324 |     pub async fn get_agents_by_status(&self, status: &AgentStatus) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^
...
334 |     pub async fn get_agents_with_capability(&self, capability: &str) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
353 |     pub async fn is_agent_online(&self, agent_id: &str) -> bool {
    |                  ^^^^^^^^^^^^^^^
...
358 |     pub async fn total_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^
...
363 |     pub async fn online_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^^
...
368 |     pub async fn offline_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^^^
...
373 |     pub async fn close_connection(&self, connection_id: &str) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^
...
388 |     async fn close_all_connections(&self) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^^^^^^

warning: multiple methods are never used
   --> src/agent/registry.rs:26:18
    |
16  | impl AgentRegistry {
    | ------------------ methods in this implementation
...
26  |     pub async fn register_agent(
    |                  ^^^^^^^^^^^^^^
...
52  |     pub async fn unregister_agent(
    |                  ^^^^^^^^^^^^^^^^
...
86  |     pub async fn get_agent_by_connection(&self, connection_id: &str) -> Option<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^
...
111 |     pub async fn get_agents_by_status(&self, status: &AgentStatus) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^
...
137 |     pub async fn update_agent_last_seen(&self, agent_id: &str) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
150 |     pub async fn is_agent_online(&self, agent_id: &str) -> bool {
    |                  ^^^^^^^^^^^^^^^
...
159 |     pub async fn get_connection_id(&self, agent_id: &str) -> Option<String> {
    |                  ^^^^^^^^^^^^^^^^^
...
166 |     pub async fn total_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^
...
171 |     pub async fn online_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^^
...
179 |     pub async fn offline_agents(&self) -> usize {
    |                  ^^^^^^^^^^^^^^
...
187 |     pub async fn get_agents_with_capability(&self, capability: &str) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
196 |     pub async fn get_agents_by_os(&self, os: &str) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^
...
205 |     pub async fn get_agents_by_container_engine(&self, engine: &str) -> Vec<AgentInfo> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: associated function `new` is never used
  --> src/api/auth.rs:20:12
   |
19 | impl Claims {
   | ----------- associated function in this implementation
20 |     pub fn new(user_id: String, role: String, expires_in: Duration) -> Self {
   |            ^^^

warning: field `encoding_key` is never read
  --> src/api/auth.rs:36:5
   |
35 | pub struct AuthService {
   |            ----------- field in this struct
36 |     encoding_key: EncodingKey,
   |     ^^^^^^^^^^^^

warning: methods `generate_token` and `check_role` are never used
  --> src/api/auth.rs:56:12
   |
41 | impl AuthService {
   | ---------------- methods in this implementation
...
56 |     pub fn generate_token(&self, claims: Claims) -> BackendAgentResult<String> {
   |            ^^^^^^^^^^^^^^
...
74 |     pub fn check_role(&self, claims: &Claims, required_role: &str) -> bool {
   |            ^^^^^^^^^^

warning: field `timeout` is never read
  --> src/api/handlers.rs:20:9
   |
16 | pub struct CreateCommandRequest {
   |            -------------------- field in this struct
...
20 |     pub timeout: Option<u64>,
   |         ^^^^^^^
   |
   = note: `CreateCommandRequest` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `agent_id`, `verb`, and `limit` are never read
   --> src/api/handlers.rs:470:9
    |
468 | pub struct CommandListQuery {
    |            ---------------- fields in this struct
469 |     pub status: Option<String>,
470 |     pub agent_id: Option<String>,
    |         ^^^^^^^^
471 |     pub verb: Option<String>,
    |         ^^^^
472 |     pub limit: Option<usize>,
    |         ^^^^^
    |
    = note: `CommandListQuery` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `hours` is never read
   --> src/api/handlers.rs:478:9
    |
476 | pub struct TelemetryHistoryQuery {
    |            --------------------- field in this struct
477 |     pub limit: Option<usize>,
478 |     pub hours: Option<u32>,
    |         ^^^^^
    |
    = note: `TelemetryHistoryQuery` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `agent_manager` and `is_running` are never read
  --> src/command/engine.rs:20:5
   |
17 | pub struct CommandEngine {
   |            ------------- fields in this struct
...
20 |     agent_manager: Arc<AgentManager>,
   |     ^^^^^^^^^^^^^
...
25 |     is_running: Arc<RwLock<bool>>,
   |     ^^^^^^^^^^

warning: multiple methods are never used
   --> src/command/engine.rs:60:18
    |
28  | impl CommandEngine {
    | ------------------ methods in this implementation
...
60  |     pub async fn start(&self) -> BackendAgentResult<()> {
    |                  ^^^^^
...
73  |     pub async fn stop(&self) -> BackendAgentResult<()> {
    |                  ^^^^
...
108 |     pub async fn execute_command(
    |                  ^^^^^^^^^^^^^^^
...
180 |     pub async fn process_command_result(
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
209 |     pub async fn process_command_failure(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^
...
268 |     pub async fn get_commands_for_agent(&self, agent_id: &str) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
273 |     pub async fn get_commands_by_verb(&self, verb: &str) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^
...
308 |     pub async fn run_command_loop(&self) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^
...
375 |     async fn wait_for_active_commands(&self) {
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
...
454 |     pub async fn get_command_history(&self, limit: Option<usize>) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^

warning: method `execute_command` is never used
   --> src/command/executor.rs:456:18
    |
13  | impl CommandExecutor {
    | -------------------- method in this implementation
...
456 |     pub async fn execute_command(
    |                  ^^^^^^^^^^^^^^^

warning: method `with_priority` is never used
  --> src/command/queue.rs:28:12
   |
18 | impl QueuedCommand {
   | ------------------ method in this implementation
...
28 |     pub fn with_priority(mut self, priority: CommandPriority) -> Self {
   |            ^^^^^^^^^^^^^

warning: methods `dequeue`, `mark_completed`, `mark_failed`, `get_commands_by_priority`, `get_commands_for_agent`, and `get_commands_by_verb` are never used
   --> src/command/queue.rs:112:18
    |
69  | impl CommandQueue {
    | ----------------- methods in this implementation
...
112 |     pub async fn dequeue(&self) -> Option<QueuedCommand> {
    |                  ^^^^^^^
...
136 |     pub async fn mark_completed(
    |                  ^^^^^^^^^^^^^^
...
162 |     pub async fn mark_failed(
    |                  ^^^^^^^^^^^
...
340 |     pub async fn get_commands_by_priority(&self, priority: &CommandPriority) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^
...
359 |     pub async fn get_commands_for_agent(&self, agent_id: &str) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
390 |     pub async fn get_commands_by_verb(&self, verb: &str) -> Vec<QueuedCommand> {
    |                  ^^^^^^^^^^^^^^^^^^^^

warning: method `health_check` is never used
  --> src/data/mod.rs:27:18
   |
19 | impl DataLayer {
   | -------------- method in this implementation
...
27 |     pub async fn health_check(&self) -> BackendAgentResult<()> {
   |                  ^^^^^^^^^^^^

warning: field `config` is never read
  --> src/data/postgres.rs:11:9
   |
9  | pub struct PostgresClient {
   |            -------------- field in this struct
10 |     pub pool: sqlx::PgPool,
11 |     pub config: DatabaseConfig,
   |         ^^^^^^
   |
   = note: `PostgresClient` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: multiple methods are never used
   --> src/data/postgres.rs:50:18
    |
14  | impl PostgresClient {
    | ------------------- methods in this implementation
...
50  |     pub async fn health_check(&self) -> Result<(), BackendAgentError> {
    |                  ^^^^^^^^^^^^
...
69  |     pub fn get_pool(&self) -> &PgPool {
    |            ^^^^^^^^
...
238 |     pub async fn upsert_agent(&self, agent: &AgentInfo) -> Result<(), BackendAgentError> {
    |                  ^^^^^^^^^^^^
...
280 |     pub async fn get_agent(&self, agent_id: &str) -> Result<Option<AgentInfo>, BackendAgentError> {
    |                  ^^^^^^^^^
...
319 |     pub async fn list_agents(&self) -> Result<Vec<AgentInfo>, BackendAgentError> {
    |                  ^^^^^^^^^^^
...
354 |     pub async fn update_agent_status(
    |                  ^^^^^^^^^^^^^^^^^^^
...
409 |     pub async fn get_command(
    |                  ^^^^^^^^^^^
...
482 |     pub async fn store_telemetry(
    |                  ^^^^^^^^^^^^^^^
...
574 |     pub async fn log_audit_event(&self, audit_log: &AuditLog) -> Result<(), BackendAgentError> {
    |                  ^^^^^^^^^^^^^^^

warning: fields `client` and `config` are never read
  --> src/data/redis.rs:8:9
   |
7  | pub struct RedisClient {
   |            ----------- fields in this struct
8  |     pub client: Client,
   |         ^^^^^^
9  |     pub manager: ConnectionManager,
10 |     pub config: RedisConfig,
   |         ^^^^^^

warning: multiple methods are never used
   --> src/data/redis.rs:48:18
    |
13  | impl RedisClient {
    | ---------------- methods in this implementation
...
48  |     pub async fn health_check(&self) -> Result<(), BackendAgentError> {
    |                  ^^^^^^^^^^^^
...
68  |     pub fn get_manager(&self) -> &ConnectionManager {
    |            ^^^^^^^^^^^
...
125 |     pub async fn del(&self, key: &str) -> Result<(), BackendAgentError> {
    |                  ^^^
...
140 |     pub async fn exists(&self, key: &str) -> Result<bool, BackendAgentError> {
    |                  ^^^^^^
...
159 |     pub async fn hset(&self, key: &str, field: &str, value: &str) -> Result<(), BackendAgentError> {
    |                  ^^^^
...
176 |     pub async fn hget(&self, key: &str, field: &str) -> Result<Option<String>, BackendAgentError> {
    |                  ^^^^
...
194 |     pub async fn hgetall(&self, key: &str) -> Result<Vec<(String, String)>, BackendAgentError> {
    |                  ^^^^^^^
...
213 |     pub async fn lpush(&self, key: &str, value: &str) -> Result<(), BackendAgentError> {
    |                  ^^^^^
...
229 |     pub async fn rpop(&self, key: &str) -> Result<Option<String>, BackendAgentError> {
    |                  ^^^^
...
248 |     pub async fn sadd(&self, key: &str, member: &str) -> Result<(), BackendAgentError> {
    |                  ^^^^
...
264 |     pub async fn smembers(&self, key: &str) -> Result<Vec<String>, BackendAgentError> {
    |                  ^^^^^^^^
...
283 |     pub async fn expire(&self, key: &str, seconds: u64) -> Result<bool, BackendAgentError> {
    |                  ^^^^^^
...
299 |     pub async fn ttl(&self, key: &str) -> Result<i64, BackendAgentError> {
    |                  ^^^

warning: variants `CommandExecution` and `Connection` are never constructed
  --> src/error.rs:27:5
   |
7  | pub enum BackendAgentError {
   |          ----------------- variants in this enum
...
27 |     CommandExecution(String),
   |     ^^^^^^^^^^^^^^^^
...
36 |     Connection(String),
   |     ^^^^^^^^^^
   |
   = note: `BackendAgentError` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `data_layer` is never read
 --> src/telemetry/analytics.rs:9:5
  |
8 | pub struct TelemetryAnalytics {
  |            ------------------ field in this struct
9 |     data_layer: DataLayer,
  |     ^^^^^^^^^^

warning: multiple methods are never used
   --> src/telemetry/analytics.rs:18:18
    |
12  | impl TelemetryAnalytics {
    | ----------------------- methods in this implementation
...
18  |     pub async fn process_telemetry(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^^
...
38  |     async fn check_cpu_alerts(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^
...
62  |     async fn check_memory_alerts(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^^^^
...
87  |     async fn check_disk_alerts(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^^
...
116 |     async fn check_container_alerts(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |              ^^^^^^^^^^^^^^^^^^^^^^
...
153 |     pub async fn generate_health_report(
    |                  ^^^^^^^^^^^^^^^^^^^^^^
...
236 |     pub async fn get_resource_trends(
    |                  ^^^^^^^^^^^^^^^^^^^

warning: struct `HealthReport` is never constructed
   --> src/telemetry/analytics.rs:270:12
    |
270 | pub struct HealthReport {
    |            ^^^^^^^^^^^^

warning: struct `AgentHealthSummary` is never constructed
   --> src/telemetry/analytics.rs:282:12
    |
282 | pub struct AgentHealthSummary {
    |            ^^^^^^^^^^^^^^^^^^

warning: struct `ResourceTrends` is never constructed
   --> src/telemetry/analytics.rs:292:12
    |
292 | pub struct ResourceTrends {
    |            ^^^^^^^^^^^^^^

warning: fields `config`, `data_layer`, `telemetry_queue`, `telemetry_receiver`, and `is_running` are never read
  --> src/telemetry/processor.rs:13:5
   |
12 | pub struct TelemetryProcessor {
   |            ------------------ fields in this struct
13 |     config: Config,
   |     ^^^^^^
14 |     data_layer: DataLayer,
   |     ^^^^^^^^^^
...
17 |     telemetry_queue: Arc<mpsc::UnboundedSender<TelemetryMessage>>,
   |     ^^^^^^^^^^^^^^^
18 |     telemetry_receiver: Arc<RwLock<Option<mpsc::UnboundedReceiver<TelemetryMessage>>>>,
   |     ^^^^^^^^^^^^^^^^^^
19 |     is_running: Arc<RwLock<bool>>,
   |     ^^^^^^^^^^

warning: methods `start`, `stop`, `process_telemetry`, `queue_telemetry`, and `run_processing_loop` are never used
   --> src/telemetry/processor.rs:49:18
    |
22  | impl TelemetryProcessor {
    | ----------------------- methods in this implementation
...
49  |     pub async fn start(&self) -> BackendAgentResult<()> {
    |                  ^^^^^
...
62  |     pub async fn stop(&self) -> BackendAgentResult<()> {
    |                  ^^^^
...
75  |     pub async fn process_telemetry(
    |                  ^^^^^^^^^^^^^^^^^
...
130 |     pub async fn queue_telemetry(&self, telemetry_msg: TelemetryMessage) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^
...
141 |     pub async fn run_processing_loop(&self) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^^^^^

warning: methods `store_telemetry`, `get_telemetry_for_agents`, `batch_store_telemetry`, and `get_telemetry_summary` are never used
   --> src/telemetry/storage.rs:17:18
    |
11  | impl TelemetryStorage {
    | --------------------- methods in this implementation
...
17  |     pub async fn store_telemetry(&self, telemetry: &TelemetryRecord) -> BackendAgentResult<()> {
    |                  ^^^^^^^^^^^^^^^
...
133 |     pub async fn get_telemetry_for_agents(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^
...
182 |     pub async fn batch_store_telemetry(
    |                  ^^^^^^^^^^^^^^^^^^^^^
...
206 |     pub async fn get_telemetry_summary(
    |                  ^^^^^^^^^^^^^^^^^^^^^

warning: struct `TelemetrySummary` is never constructed
   --> src/telemetry/storage.rs:259:12
    |
259 | pub struct TelemetrySummary {
    |            ^^^^^^^^^^^^^^^^

warning: redundant closure
   --> src/agent/connection.rs:149:22
    |
149 |             .map_err(|e| crate::error::BackendAgentError::Serialization(e))?;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `crate::error::BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure
    = note: `-W clippy::redundant-closure` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::redundant_closure)]`

warning: redundant closure
   --> src/agent/connection.rs:154:30
    |
154 |                     .map_err(|e| crate::error::BackendAgentError::Serialization(e))?;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `crate::error::BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: redundant closure
   --> src/agent/connection.rs:160:34
    |
160 |                         .map_err(|e| crate::error::BackendAgentError::Serialization(e))?;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `crate::error::BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: redundant closure
   --> src/agent/connection.rs:165:30
    |
165 |                     .map_err(|e| crate::error::BackendAgentError::Serialization(e))?;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `crate::error::BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: redundant closure
   --> src/agent/connection.rs:171:34
    |
171 |                         .map_err(|e| crate::error::BackendAgentError::Serialization(e))?;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `crate::error::BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: this match could be written as a `let` statement
  --> src/api/handlers.rs:70:5
   |
70 | /     match agent_manager.list_agents().await {
71 | |         agents => {
72 | |             let response = AgentListResponse {
73 | |                 total: agents.len(),
...  |
78 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_single_binding
   = note: `-W clippy::match-single-binding` implied by `-W clippy::all`
   = help: to override `-W clippy::all` add `#[allow(clippy::match_single_binding)]`
help: consider using a `let` statement
   |
70 ~     let agents = agent_manager.list_agents().await;
71 +     {
72 +         let response = AgentListResponse {
73 +             total: agents.len(),
74 +             agents,
75 +         };
76 +         Ok(HttpResponse::Ok().json(response))
77 +     }
   |

warning: this `impl` can be derived
   --> src/config.rs:253:1
    |
253 | / impl Default for Config {
254 | |     fn default() -> Self {
255 | |         Self {
256 | |             server: ServerConfig::default(),
...   |
266 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#derivable_impls
    = note: `-W clippy::derivable-impls` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::derivable_impls)]`
help: replace the manual implementation with a derive attribute
    |
5   + #[derive(Default)]
6   ~ pub struct Config {
    |

warning: redundant closure
   --> src/data/postgres.rs:257:22
    |
257 |             .map_err(|e| BackendAgentError::Serialization(e))?;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: the borrowed expression implements the required traits
   --> src/data/postgres.rs:268:19
    |
268 |             .bind(&agent.last_seen)
    |                   ^^^^^^^^^^^^^^^^ help: change this to: `agent.last_seen`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrows_for_generic_args
    = note: `-W clippy::needless-borrows-for-generic-args` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::needless_borrows_for_generic_args)]`

warning: redundant closure
   --> src/data/postgres.rs:387:22
    |
387 |             .map_err(|e| BackendAgentError::Serialization(e))?;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: the borrowed expression implements the required traits
   --> src/data/postgres.rs:397:19
    |
397 |             .bind(&command.scheduled_at)
    |                   ^^^^^^^^^^^^^^^^^^^^^ help: change this to: `command.scheduled_at`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrows_for_generic_args

warning: the borrowed expression implements the required traits
   --> src/data/postgres.rs:398:19
    |
398 |             .bind(&command.max_retries)
    |                   ^^^^^^^^^^^^^^^^^^^^ help: change this to: `command.max_retries`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrows_for_generic_args

warning: redundant closure
   --> src/data/postgres.rs:428:30
    |
428 |                     .map_err(|e| BackendAgentError::Serialization(e))?;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: redundant closure
   --> src/data/postgres.rs:494:22
    |
494 |             .map_err(|e| BackendAgentError::Serialization(e))?;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: redundant closure
   --> src/data/postgres.rs:496:22
    |
496 |             .map_err(|e| BackendAgentError::Serialization(e))?;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: the borrowed expression implements the required traits
   --> src/data/postgres.rs:504:19
    |
504 |             .bind(&telemetry.timestamp)
    |                   ^^^^^^^^^^^^^^^^^^^^ help: change this to: `telemetry.timestamp`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrows_for_generic_args

warning: the borrowed expression implements the required traits
   --> src/data/postgres.rs:505:19
    |
505 |             .bind(&telemetry.cpu_usage)
    |                   ^^^^^^^^^^^^^^^^^^^^ help: change this to: `telemetry.cpu_usage`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrows_for_generic_args

warning: the borrowed expression implements the required traits
   --> src/data/postgres.rs:509:19
    |
509 |             .bind(&telemetry.container_count)
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: change this to: `telemetry.container_count`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrows_for_generic_args

warning: redundant closure
   --> src/data/postgres.rs:541:30
    |
541 |                     .map_err(|e| BackendAgentError::Serialization(e))?;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: redundant closure
   --> src/data/postgres.rs:545:30
    |
545 |                     .map_err(|e| BackendAgentError::Serialization(e))?;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `BackendAgentError::Serialization`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: unnecessary closure used to substitute value for `Result::Err`
   --> src/telemetry/processor.rs:105:21
    |
105 | /                     serde_json::from_value(n).unwrap_or_else(|_| NetworkStats {
106 | |                         bytes_sent: 0,
107 | |                         bytes_received: 0,
108 | |                         packets_sent: 0,
109 | |                         packets_received: 0,
110 | |                         connections_active: 0,
111 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_lazy_evaluations
    = note: `-W clippy::unnecessary-lazy-evaluations` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::unnecessary_lazy_evaluations)]`
help: use `unwrap_or` instead
    |
105 ~                     serde_json::from_value(n).unwrap_or(NetworkStats {
106 +                         bytes_sent: 0,
107 +                         bytes_received: 0,
108 +                         packets_sent: 0,
109 +                         packets_received: 0,
110 +                         connections_active: 0,
111 +                     })
    |

warning: redundant closure
  --> src/telemetry/storage.rs:25:22
   |
25 |             .map_err(|e| crate::error::BackendAgentError::Serialization(e))?;
   |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `crate::error::BackendAgentError::Serialization`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: redundant closure
  --> src/telemetry/storage.rs:69:26
   |
69 |                 .map_err(|e| crate::error::BackendAgentError::Serialization(e))?;
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `crate::error::BackendAgentError::Serialization`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

warning: `viworks-backend-agent` (bin "viworks-backend-agent") generated 91 warnings (run `cargo clippy --fix --bin "viworks-backend-agent"` to apply 53 suggestions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 7.14s
warning: the following packages contain code that will be rejected by a future version of Rust: redis v0.24.0, sqlx-postgres v0.7.4
note: to see what the problems were, use the option `--future-incompat-report`, or run `cargo report future-incompatibilities --id 1`
Diff in /home/runner/work/viworksolution/viworksolution/backend agent/src/agent/manager.rs:57:
             "Starting Agent Manager WebSocket server on {}",
             bind_address
         );
-        
-        info!("DEBUG: Agent management config - bind_address: {}, port: {}", 
-              self.config.agent_management.bind_address, self.config.agent_management.port);
+
+        info!(
+            "DEBUG: Agent management config - bind_address: {}, port: {}",
+            self.config.agent_management.bind_address, self.config.agent_management.port
+        );
 
         let listener = TcpListener::bind(&bind_address).await.map_err(|e| {
             error!("Failed to bind WebSocket server: {}", e);
Diff in /home/runner/work/viworksolution/viworksolution/backend agent/src/main.rs:140:
     info!("Creating full API server...");
     let server = HttpServer::new(move || {
         info!("Creating full App instance");
-        
+
         let cors = Cors::default()
             .allow_any_origin()
             .allow_any_method()
Diff in /home/runner/work/viworksolution/viworksolution/backend agent/src/main.rs:158:
     })
     .workers(server_config.workers)
     .max_connections(server_config.max_connections)
-    .client_request_timeout(std::time::Duration::from_secs(server_config.request_timeout))
+    .client_request_timeout(std::time::Duration::from_secs(
+        server_config.request_timeout,
+    ))
     .keep_alive(std::time::Duration::from_secs(30))
     .shutdown_timeout(30)
     .disable_signals();
Error: Process completed with exit code 1.
0s
0s
